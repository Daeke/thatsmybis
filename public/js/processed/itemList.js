var table=null,colSource=0,colName=1,colWishlist=2,colNotes=3,colPriority=4,lastSource=null;function createTable(a){return memberTable=$("#itemTable").DataTable({autoWidth:!1,data:items,columns:[{title:'<span class="fas fa-fw fa-skull-crossbones"></span> Boss',data:"",render:function render(a,e,n){return n.source_name&&(thisSource=n.source_name),'\n                    <ul class="no-bullet no-indent mb-0">\n                        '.concat(n.source_name?'\n                            <li>\n                                <span class="font-weight-bold">\n                                    '.concat(n.source_name,"\n                                </span>\n                            </li>"):"","\n                    </ul>")},visible:!0,width:"130px",className:"text-right"},{title:'<span class="fas fa-fw fa-treasure-chest text-gold"></span> Loot',data:"",render:function render(a,e,n){return'\n                    <ul class="no-bullet no-indent mb-0">\n                        <li>\n                            <a href="/'.concat(guild.slug,"/i/").concat(n.item_id,"/").concat(slug(n.name),'"\n                                class=""\n                                data-wowhead-link="https://classic.wowhead.com/item=').concat(n.item_id,'"\n                                data-wowhead="item=').concat(n.item_id,'?domain=classic">\n                                ').concat(n.name,"\n                            </a>\n                        </li>\n\n                        ").concat(n.is_bis||n.is_bis_horde||n.is_bis_alliance?"\n                            <li>\n                                <small>\n                                    ".concat(n.is_bis?"BIS":"","\n                                    ").concat(n.is_bis_alliance?'<span class="text-shaman">A</span>':"","\n                                    ").concat(n.is_bis_horde?'<span class="text-dk">H</span>':"","\n                                </small>\n                            </li>"):"","\n                    </ul>")},visible:!0,width:"330px"},{title:'<span class="text-legendary fas fa-fw fa-scroll-old"></span> Wishlist',data:"wishlist_characters",render:function render(a,e,n){return a.length?getCharacterList(a,"wishlist",n.id):"—"},orderable:!1,visible:!0,width:"400px"},{title:'<span class="fas fa-fw fa-comment-alt-lines"></span> Notes',data:"guild_note",render:function render(a,e,n){return a?nl2br(a):"—"},orderable:!1,visible:!0,width:"200px"},{title:'<span class="fas fa-fw fa-sort-amount-down"></span> Priority',data:"guild_priority",render:function render(a,e,n){return a?nl2br(a):"—"},orderable:!1,visible:!0,width:"200px"}],order:[],paging:!1,initComplete:function initComplete(){makeWowheadLinks()},createdRow:function createdRow(e,n,t){0!=t&&null!=a||(a=n.source_name),n.source_name!=a&&($(e).addClass("top-border"),a=n.source_name)}}),memberTable}function getCharacterList(a,e,n){var t='<ul class="list-inline js-item-list mb-0" data-type="'.concat(e,'" data-id="').concat(n,'">'),i=4;return $.each(a,function(a,e){t+='\n            <li data-raid-id="'.concat(e.raid_id,'" class="js-item-wishlist-character list-inline-item font-weight-normal mb-1">\n                <a href="/').concat(guild.slug,"/c/").concat(e.name,'"\n                    title="').concat(e.raid_name?e.raid_name+" -":""," ").concat(e.level?e.level:""," ").concat(e.race?e.race:""," ").concat(e.spec?e.spec:""," ").concat(e.class?e.class:""," ").concat(e.username?"("+e.username+")":"",'"\n                    class="text-').concat(e.class?e.class.toLowerCase():"",'-important tag d-inline">\n                    <span class="role-circle" style="background-color:').concat(getColorFromDec(e.raid_color),'"></span>').concat(e.name,"\n                </a>\n            </li>")}),t+="</ul>"}$(document).ready(function(){table=createTable(),$(".toggle-column").click(function(a){a.preventDefault();var e=table.column($(this).attr("data-column"));e.visible(!e.visible())}),$(".toggle-column-default").click(function(a){a.preventDefault(),table.column(colName).visible(!0),table.column(colWishlist).visible(!0),table.column(colNotes).visible(!0),table.column(colPriority).visible(!0)}),table.on("column-visibility.dt",function(a,e,n,t){makeWowheadLinks()}),$("#raid_filter").on("change",function(){var a=$(this).val();a?($(".js-item-wishlist-character[data-raid-id!='"+a+"']").hide(),$(".js-item-wishlist-character[data-raid-id='"+a+"']").show()):$(".js-item-wishlist-character").show()}).change()});
